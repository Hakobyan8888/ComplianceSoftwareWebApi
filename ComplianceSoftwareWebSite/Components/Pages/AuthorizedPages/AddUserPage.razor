@page "/add-user"
@using ComplianceSoftwareWebSite.Models.Auth
@using StandardComponents.InputComponents
@rendermode InteractiveServer
<div class="azure-devops-form">
    <h3>Add New User</h3>

    <EditForm Model="_registerModel" OnValidSubmit="HandleRegister" FormName="AddUser">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <div class="form-container">
            <InputTextComponent Id="UserName"
                                Label="UserName"
                                ValueChanged="@(v => _registerModel.UserName = v)" />
            <InputTextComponent Id="Email"
                                Label="Email"
                                ValueChanged="@(v => _registerModel.Email = v)" />
            <InputPasswordComponent Id="Password"
                                    Label="Password"
                                    ValueChanged="@(v => _registerModel.Password = v)" />
            <InputSelectComponent TItem="string"
                                  Id="entityType"
                                  Label="Company/Entity Type"
                                  Options="_roles"
                                  ValueChanged="@(v => {
                                            Enum.TryParse(v, out Roles role);
                                            _registerModel.Role = role;
                                        })" />
            <button class="btn btn-primary azure-devops-button">Add User</button>
        </div>
    </EditForm>
</div>
